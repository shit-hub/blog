[{"categories":["Devops"],"content":"This article shows how to use hugo and github action to build blog.","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Hugo Install ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:1:0","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Download binary file Choose the file in Hugo, Example wget https://github.com/gohugoio/hugo/releases/download/v0.71.1/hugo_0.71.1_Linux-64bit.tar.gz ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:1:1","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Decompression tar zxvf hugo_0.71.1_Linux-64bit.tar.gz -C /usr/bin hugo ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:1:2","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Create Repository create a repository in github which name “.github.io”, then download it to the local. git clone https://github.com/\u003cusername\u003e/\u003cusername\u003e.github.io.git create .gitignore and commit, then push it to keep master branch checkout to hugo branch git checkout -b hugo ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:2:0","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Build Blog ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:3:0","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Initial cd blog # because .git folder exist，need to use '--force' to build hugo new site . --force advise commit the change here ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:3:1","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Config theme Choose themes in (hugo theme)[https://themes.gohugo.io/] Recommended themes： maupassant-hugo(simple and easy to use) LoveIt(powerful) Example: Download themes git submodule add https://github.com/shit-hub/maupassant-hugo.git themes/maupassant-hugo config config.toml baseURL=\"https://blog.shit-hub.com\"languageCode=\"zh-CN\"title=\"SH IT Blog\"hasCJKLanguage=truetheme=\"maupassant-hugo\"enableRobotsTXT=truePaginatePath=\"page\"[author]name=\"Sanjo Heron\"homepage=\"https://www.shit-hub.com\"[params]subtitle=\"\"description=\"\"keywords=\"Blog\"customCSS=[\"style.extra.css\"]customJS=[\"app.extra.js\"][params.utteranc]repo=\"shit-hub/blog\"issueTerm=\"url\"theme=\"github-light\"[[menu.main]]identifier=\"categories\"name=\"Categories\"url=\"/categories/\"weight=1[[menu.main]]identifier=\"tags\"name=\"Tags\"url=\"/tags/\"weight=2[[menu.main]]identifier=\"archives\"name=\"Archives\"url=\"/archives/\"weight=3[[menu.main]]identifier=\"about\"name=\"About\"url=\"/about/\"weight=4 Use following command to create basic page: hugo new about.md hugo new archives.md archives.md content: --- title: \"Archives\" type: archives --- you can enter some personal information in about.md，then config traft:false Run hugo server command ，then open chrome to access localhost:1313 to preview. ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:3:2","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Config Github Action Github action is github’s official CI/CD tools ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:4:0","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Build ken pair ssh-keygen -t rsa -b 4096 -C \"your_email\" -f gh-pages -N \"\" ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:4:1","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Config Repository Open the repository’s settings page on the GitHub website Add the newly generated SSH public key (gh-pages.pub) to Deploy Keys and select Allow write access Add the private KEY (gh-pages) to the Secrets and name it “ACTIONS DEPLOY KEY” ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:4:2","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Config Action create path .github/workflow/，then create hugo.yml file in the path，content as follow： name:githubpageson:push:branches:- hugojobs:build-deploy:runs-on:ubuntu-lateststeps:- uses:actions/checkout@v1with:submodules:true- name:SetupHugouses:peaceiris/actions-hugo@v2.3.1with:hugo-version:'0.61.0'- name:Buildrun:hugo--minify- name:addnojekyllrun:touch./public/.nojekyll- name:Deployuses:peaceiris/actions-gh-pages@v2.5.1env:ACTIONS_DEPLOY_KEY:${{secrets.ACTIONS_DEPLOY_KEY}}PUBLISH_BRANCH:masterPUBLISH_DIR:./public ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:4:3","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Config Github Page In setting-\u003eOptions-\u003eGithub Pages of the project, select master branch in Source. If you have a custom domain name, you can write it on the custom domain. After saving, you will add a CNAME file in the master branch of the project , It will be overwritten during the next deployment, so you need to put the CNAME file in the static directory of Hugo, the CNAME file will be automatically generated in the next deployment ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:5:0","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"Text Submit the hugo branch to github, and then check whether the action is executed. After successful generation, visit .github.io/blog in chrome to view the blog content. ","date":"2020-06-02","objectID":"/use_hugo_and_github_action_to_build_blog/:6:0","tags":["Blog","Hugo"],"title":"Use hugo and github action to build blog","uri":"/use_hugo_and_github_action_to_build_blog/"},{"categories":null,"content":"Personal Information Name: Sanjo Heron Age: 23 Phone: 15692014243 Email: sanjo.heron@gmail.com QQ: 1003261954 Github: shit-hub Homepage: shit-hub Education: College Graduated School: Guangzhou University ","date":"2020-05-28","objectID":"/about/:0:0","tags":null,"title":"About","uri":"/about/"}]