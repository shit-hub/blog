[{"categories":["Devops"],"content":"hugo安装 ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:1:0","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"下载二进制文件 到Hugo官网选取对应的二进制包；以0.71.1版本为例： wget https://github.com/gohugoio/hugo/releases/download/v0.71.1/hugo_0.71.1_Linux-64bit.tar.gz ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:1:1","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"解压到PATH路径hugo + github action tar zxvf hugo_0.71.1_Linux-64bit.tar.gz -C /usr/bin hugo ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:1:2","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"github配置 在github上创建名为blog的仓库，然后下载到本地 git clone https://github.com/\u003cusername\u003e/blog.git 切换到存储hugo源码的分支 git checkout -b hugo ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:2:0","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"生成博客 ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:3:0","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"初始化网站 cd blog # 由于当前目录已存在.git文件夹，需要添加--force强制生成 hugo new site . --force 建议这里提交一次修改 ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:3:1","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"主题配置 到(hugo theme)[https://themes.gohugo.io/]选取主题，然后按照主题指示安装配置 推荐主题： maupassant-hugo(简洁易用) LoveIt(功能强大) 以maupassant-hugo为例 下载主题 git submodule add https://github.com/shit-hub/maupassant-hugo.git themes/maupassant-hugo 配置config.toml baseURL=\"https://blog.shit-hub.com\"languageCode=\"zh-CN\"title=\"SH IT Blog\"hasCJKLanguage=truetheme=\"maupassant-hugo\"enableRobotsTXT=truePaginatePath=\"page\"[author]name=\"Sanjo Heron\"homepage=\"https://www.shit-hub.com\"[params]subtitle=\"\"description=\"\"keywords=\"Blog\"customCSS=[\"style.extra.css\"]customJS=[\"app.extra.js\"][params.utteranc]repo=\"shit-hub/blog\"issueTerm=\"url\"theme=\"github-light\"[[menu.main]]identifier=\"categories\"name=\"Categories\"url=\"/categories/\"weight=1[[menu.main]]identifier=\"tags\"name=\"Tags\"url=\"/tags/\"weight=2[[menu.main]]identifier=\"archives\"name=\"Archives\"url=\"/archives/\"weight=3[[menu.main]]identifier=\"about\"name=\"About\"url=\"/about/\"weight=4 使用以下命令创建基本页面 hugo new about.md hugo new archives.md archives.md内容如下 --- title: \"Archives\" type: archives --- about.md可以填入自己的相关信息，然后将traft改成false即可 使用hugo server命令，然后打开浏览器访问localhost:1313即可预览，建议预览满意后提交一次修改 ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:3:2","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"配置Github Action Github Action是Github官方提供的CI/CD工具 ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:4:0","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"生成密钥对 ssh-keygen -t rsa -b 4096 -C \"your_email\" -f gh-pages -N \"\" ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:4:1","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"配置项目 在 GitHub 网站中打开项目的设置页面 将刚生成的 ssh 公钥（gh-pages.pub）添加到 Deploy Keys 并选择 Allow write access 将私钥（gh-pages）添加到 Secrets，命名为 ACTIONS_DEPLOY_KEY ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:4:2","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"制定Action 新建路径.github/workflow/，在该目录下创建hugo.yml，内容如下： name:githubpageson:push:branches:- hugojobs:build-deploy:runs-on:ubuntu-lateststeps:- uses:actions/checkout@v1with:submodules:true- name:SetupHugouses:peaceiris/actions-hugo@v2.3.1with:hugo-version:'0.61.0'- name:Buildrun:hugo--minify- name:addnojekyllrun:touch./public/.nojekyll- name:Deployuses:peaceiris/actions-gh-pages@v2.5.1env:ACTIONS_DEPLOY_KEY:${{secrets.ACTIONS_DEPLOY_KEY}}PUBLISH_BRANCH:masterPUBLISH_DIR:./public ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:4:3","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"配置Github page 在项目的setting-\u003eOptions-\u003eGithub Pages中,Source选择master branch，如果有自定义域名，可以在custom domain上写上，保存后会在项目的master branch中添加CNAME文件，下次部署时会覆盖，需要把CNAME文件放到hugo的static目录中,下次部署就会自动生成CNAME文件 ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:5:0","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":["Devops"],"content":"测试 提交hugo branch到github上，然后查看action是否执行，成功生成后，访问.github.io/blog查看博客内容。 ","date":"2020-06-02","objectID":"/zh-cn/use_hugo_and_github_action_to_build_blog/:6:0","tags":["Hugo","Blog"],"title":"个人博客自动化部署:hugo+github-action","uri":"/zh-cn/use_hugo_and_github_action_to_build_blog/"},{"categories":null,"content":"个人信息 Name: Sanjo Heron Age: 23 Phone: 15692014243 Email: sanjo.heron@gmail.com QQ: 1003261954 Github: shit-hub Homepage: shit-hub Education: College Graduated School: Guangzhou University ","date":"2020-06-02","objectID":"/zh-cn/about/:0:0","tags":null,"title":"About","uri":"/zh-cn/about/"}]